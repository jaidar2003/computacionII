
INSTRUCCIONES DE INICIO
=====================

‚ö†Ô∏è IMPORTANTE: Para que el sistema funcione correctamente, es necesario ejecutar TRES componentes:
1. El servidor principal (gestiona archivos y conexiones)
2. La API Flask (interfaz para el frontend)
3. El worker de Celery (procesa verificaciones en segundo plano)

Si no se ejecuta el worker de Celery, las verificaciones de archivos no funcionar√°n correctamente.

MacOS
=====

# 1. Iniciar el servidor de archivos (en una terminal)
python /Users/juanmaaidar/PycharmProjects/computacionII/final/servidorArchivos/main.py -m server

# 2. Iniciar la API Flask (en otra terminal)
python /Users/juanmaaidar/PycharmProjects/computacionII/final/servidorArchivos/main.py -m api -H 192.168.100.191 -p 5005

# 3. Iniciar el worker de Celery (en otra terminal) - OBLIGATORIO para verificaciones
cd /Users/juanmaaidar/PycharmProjects/computacionII/final/servidorArchivos
celery -A tareas.celery worker --loglevel=info

# 4. Iniciar el frontend (en otra terminal)
cd /Users/juanmaaidar/PycharmProjects/computacionII/final/servidorArchivos/front
# Editar el archivo .env para configurar VITE_API_URL si la API est√° en otra m√°quina
npm run dev

Linux
=====

# 1. Iniciar el servidor de archivos (en una terminal)
python /home/juanma/PycharmProjects/computacionII/final/servidorArchivos/main.py -m server

# 2. Iniciar la API Flask (en otra terminal)
python /home/juanma/PycharmProjects/computacionII/final/servidorArchivos/main.py -m api -H 192.168.100.191 -p 5005

# 3. Iniciar el worker de Celery (en otra terminal) - OBLIGATORIO para verificaciones
cd /home/juanma/PycharmProjects/computacionII/final/servidorArchivos
celery -A tareas.celery worker --loglevel=info

# 4. Iniciar el frontend (en otra terminal)
cd /home/juanma/PycharmProjects/computacionII/final/servidorArchivos/front
# Editar el archivo .env para configurar VITE_API_URL si la API est√° en otra m√°quina
npm run dev

USANDO EL CLI INTEGRADO - ¬°NUEVA FUNCIONALIDAD! üéâ
================================================

‚ö†Ô∏è IMPORTANTE: Antes de usar el CLI, aseg√∫rate de que el servidor est√© en ejecuci√≥n.
A diferencia del frontend, el CLI se comunica directamente con el servidor mediante sockets SSL,
sin utilizar la API Flask como intermediario.

Paso 1: Instalar dependencias
----------------------------
# Instala las dependencias necesarias para el CLI
pip install colorama tqdm

Paso 2: **NUEVA FORMA RECOMENDADA** - Usando main.py directamente
----------------------------------------------------------------
# Desde la carpeta servidorArchivos (M√âTODO PRINCIPAL)
cd /Users/juanmaaidar/PycharmProjects/computacionII/final/servidorArchivos
python main.py -m cli

# ¬°Esto ahora lanza autom√°ticamente el men√∫ numerado!

Paso 3: Opciones adicionales del CLI integrado
---------------------------------------------
# Forzar el modo men√∫ expl√≠citamente
python main.py -m cli --menu

# Usar el modo simple (solo login/registro/salir)
python main.py -m cli --simple

# Usar comandos tradicionales directamente
python main.py -m cli status
python main.py -m cli login usuario contrase√±a
python main.py -m cli list
python main.py -m cli upload /ruta/archivo.txt

Paso 4: M√©todos alternativos (siguen funcionando)
------------------------------------------------
# Desde la ra√≠z del proyecto usando wrappers
cd /Users/juanmaaidar/PycharmProjects/computacionII
python menu_cli_wrapper.py
# o
python run_cli.py
# o
python simple_cli.py

Paso 5: Configuraci√≥n del CLI
-----------------------------
# El CLI ahora detecta autom√°ticamente las variables SERVER_HOST/SERVER_PORT del archivo .env
# Si necesitas cambiar la configuraci√≥n, edita el archivo:
nano /Users/juanmaaidar/PycharmProjects/computacionII/final/servidorArchivos/.env

# O especifica el host y puerto directamente:
python main.py -m cli -H 192.168.100.191 -p 1608

MEN√öS DISPONIBLES EN EL CLI
==========================

Men√∫ principal (sin sesi√≥n iniciada):
------------------------------------
1. Iniciar sesi√≥n
2. Registrarse
3. Salir

Men√∫ principal (con sesi√≥n iniciada):
-----------------------------------
4. Listar archivos
5. Subir archivo
6. Descargar archivo
7. Eliminar archivo
8. Renombrar archivo
9. Verificar archivo
10. Cerrar sesi√≥n

Opciones adicionales para administradores:
-----------------------------------------
11. Listar usuarios
12. Ver solicitudes de permisos
13. Aprobar/rechazar solicitud

Opciones adicionales para usuarios normales:
-------------------------------------------
11. Solicitar permisos de administrador
12. Ver mis solicitudes de permisos

CAMBIOS IMPORTANTES EN ESTA ACTUALIZACI√ìN
========================================

‚úÖ **CLI Integrado**: Ahora se ejecuta directamente desde main.py con `-m cli`
‚úÖ **Men√∫ por defecto**: `python main.py -m cli` lanza autom√°ticamente el men√∫ numerado
‚úÖ **Configuraci√≥n autom√°tica**: Detecta autom√°ticamente SERVER_HOST/SERVER_PORT del .env
‚úÖ **Sin advertencias**: Ya no ver√°s advertencias sobre variables faltantes
‚úÖ **M√∫ltiples modos**: Soporte para modo men√∫, simple y comandos tradicionales
‚úÖ **Ubicaci√≥n actualizada**: CLI movido a servidorArchivos/cli/ para mejor organizaci√≥n

COMANDOS TRADICIONALES DEL CLI (modo avanzado)
=============================================

# Autenticaci√≥n
python main.py -m cli login nombre_usuario contrase√±a
python main.py -m cli register nuevo_usuario contrase√±a
python main.py -m cli logout

# Gesti√≥n de archivos
python main.py -m cli list                                # o ls
python main.py -m cli upload /ruta/al/archivo.txt
python main.py -m cli download nombre_archivo.txt
python main.py -m cli delete nombre_archivo.txt           # o rm
python main.py -m cli rename nombre_viejo.txt nombre_nuevo.txt
python main.py -m cli verify nombre_archivo.txt           # o verify (sin argumentos para todos)

# Gesti√≥n de permisos
python main.py -m cli request-permission admin            # o request
python main.py -m cli view-requests                       # o requests
python main.py -m cli approve ID_SOLICITUD aprobar
python main.py -m cli list-users                          # o users

# Utilidades
python main.py -m cli status                              # Estado de la sesi√≥n
python main.py -m cli --help                              # Ver ayuda

RECOMENDACI√ìN DE USO
===================

Para la experiencia m√°s simple y directa:

```bash
cd /Users/juanmaaidar/PycharmProjects/computacionII/final/servidorArchivos
python main.py -m cli
```

¬°Eso es todo! El men√∫ numerado aparecer√° autom√°ticamente y podr√°s navegar de forma intuitiva.

# Para m√°s informaci√≥n, consulta la documentaci√≥n completa en:
# /Users/juanmaaidar/PycharmProjects/computacionII/final/servidorArchivos/INSTRUCCIONES_MENU_CLI_ACTUALIZADO.md




celery -A tareas.celery worker --loglevel=info

